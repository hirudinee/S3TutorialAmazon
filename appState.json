{"EDITOR_STATE":{"allProjectFiles":{"4a7438ea-0941-4df6-93c6-ad299b87b156":{"id":"4a7438ea-0941-4df6-93c6-ad299b87b156","parent":null,"name":"S3TutorialAmazon","type":"DIRECTORY","isDirectory":true,"children":["c1027809-aa5d-4f6b-b668-882a7e827eb9"],"isRemovable":false,"filePath":"S3TutorialAmazon"},"c1027809-aa5d-4f6b-b668-882a7e827eb9":{"id":"c1027809-aa5d-4f6b-b668-882a7e827eb9","parent":"4a7438ea-0941-4df6-93c6-ad299b87b156","name":"S3TutorialAmazon-lambda.js","type":"LAMBDA_FILE","isDirectory":false,"children":[],"isRemovable":true,"filePath":"S3TutorialAmazon/S3TutorialAmazon-lambda.js","code":"let AWS = require('aws-sdk');\nexports.handler = function(event, context, callback){\n\n    //Entered in to Lambda\n    console.log(\"Starting the lambda\");\n\n    //Get source folder name\n    var srcBucket = event.Records[0].s3.bucket.name;\n\n    //Get source key\n    var srcKey = decodeURIComponent(event.Records[0].s3.object.key.replace(/\\+/g,\"\"));\n\n    console.log(srcBucket + srcKey);\n\n}","ast":{"type":"File","start":0,"end":384,"loc":{"start":{"line":1,"column":0},"end":{"line":15,"column":1}},"program":{"type":"Program","start":0,"end":384,"loc":{"start":{"line":1,"column":0},"end":{"line":15,"column":1}},"sourceType":"module","body":[{"type":"VariableDeclaration","start":0,"end":29,"loc":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"declarations":[{"type":"VariableDeclarator","start":4,"end":28,"loc":{"start":{"line":1,"column":4},"end":{"line":1,"column":28}},"id":{"type":"Identifier","start":4,"end":7,"loc":{"start":{"line":1,"column":4},"end":{"line":1,"column":7},"identifierName":"AWS"},"name":"AWS"},"init":{"type":"CallExpression","start":10,"end":28,"loc":{"start":{"line":1,"column":10},"end":{"line":1,"column":28}},"callee":{"type":"Identifier","start":10,"end":17,"loc":{"start":{"line":1,"column":10},"end":{"line":1,"column":17},"identifierName":"require"},"name":"require"},"arguments":[{"type":"StringLiteral","start":18,"end":27,"loc":{"start":{"line":1,"column":18},"end":{"line":1,"column":27}},"extra":{"rawValue":"aws-sdk","raw":"'aws-sdk'"},"value":"aws-sdk"}]}}],"kind":"let"},{"type":"ExpressionStatement","start":30,"end":384,"loc":{"start":{"line":2,"column":0},"end":{"line":15,"column":1}},"expression":{"type":"AssignmentExpression","start":30,"end":384,"loc":{"start":{"line":2,"column":0},"end":{"line":15,"column":1}},"operator":"=","left":{"type":"MemberExpression","start":30,"end":45,"loc":{"start":{"line":2,"column":0},"end":{"line":2,"column":15}},"object":{"type":"Identifier","start":30,"end":37,"loc":{"start":{"line":2,"column":0},"end":{"line":2,"column":7},"identifierName":"exports"},"name":"exports"},"property":{"type":"Identifier","start":38,"end":45,"loc":{"start":{"line":2,"column":8},"end":{"line":2,"column":15},"identifierName":"handler"},"name":"handler"},"computed":false},"right":{"type":"FunctionExpression","start":48,"end":384,"loc":{"start":{"line":2,"column":18},"end":{"line":15,"column":1}},"id":null,"generator":false,"async":false,"params":[{"type":"Identifier","start":57,"end":62,"loc":{"start":{"line":2,"column":27},"end":{"line":2,"column":32},"identifierName":"event"},"name":"event"},{"type":"Identifier","start":64,"end":71,"loc":{"start":{"line":2,"column":34},"end":{"line":2,"column":41},"identifierName":"context"},"name":"context"},{"type":"Identifier","start":73,"end":81,"loc":{"start":{"line":2,"column":43},"end":{"line":2,"column":51},"identifierName":"callback"},"name":"callback"}],"body":{"type":"BlockStatement","start":82,"end":384,"loc":{"start":{"line":2,"column":52},"end":{"line":15,"column":1}},"body":[{"type":"ExpressionStatement","start":116,"end":151,"loc":{"start":{"line":5,"column":4},"end":{"line":5,"column":39}},"expression":{"type":"CallExpression","start":116,"end":150,"loc":{"start":{"line":5,"column":4},"end":{"line":5,"column":38}},"callee":{"type":"MemberExpression","start":116,"end":127,"loc":{"start":{"line":5,"column":4},"end":{"line":5,"column":15}},"object":{"type":"Identifier","start":116,"end":123,"loc":{"start":{"line":5,"column":4},"end":{"line":5,"column":11},"identifierName":"console"},"name":"console","leadingComments":null},"property":{"type":"Identifier","start":124,"end":127,"loc":{"start":{"line":5,"column":12},"end":{"line":5,"column":15},"identifierName":"log"},"name":"log"},"computed":false,"leadingComments":null},"arguments":[{"type":"StringLiteral","start":128,"end":149,"loc":{"start":{"line":5,"column":16},"end":{"line":5,"column":37}},"extra":{"rawValue":"Starting the lambda","raw":"\"Starting the lambda\""},"value":"Starting the lambda"}],"leadingComments":null},"leadingComments":[{"type":"CommentLine","value":"Entered in to Lambda","start":89,"end":111,"loc":{"start":{"line":4,"column":4},"end":{"line":4,"column":26}}}],"trailingComments":[{"type":"CommentLine","value":"Get source folder name","start":157,"end":181,"loc":{"start":{"line":7,"column":4},"end":{"line":7,"column":28}}}]},{"type":"VariableDeclaration","start":186,"end":234,"loc":{"start":{"line":8,"column":4},"end":{"line":8,"column":52}},"declarations":[{"type":"VariableDeclarator","start":190,"end":233,"loc":{"start":{"line":8,"column":8},"end":{"line":8,"column":51}},"id":{"type":"Identifier","start":190,"end":199,"loc":{"start":{"line":8,"column":8},"end":{"line":8,"column":17},"identifierName":"srcBucket"},"name":"srcBucket","leadingComments":null},"init":{"type":"MemberExpression","start":202,"end":233,"loc":{"start":{"line":8,"column":20},"end":{"line":8,"column":51}},"object":{"type":"MemberExpression","start":202,"end":228,"loc":{"start":{"line":8,"column":20},"end":{"line":8,"column":46}},"object":{"type":"MemberExpression","start":202,"end":221,"loc":{"start":{"line":8,"column":20},"end":{"line":8,"column":39}},"object":{"type":"MemberExpression","start":202,"end":218,"loc":{"start":{"line":8,"column":20},"end":{"line":8,"column":36}},"object":{"type":"MemberExpression","start":202,"end":215,"loc":{"start":{"line":8,"column":20},"end":{"line":8,"column":33}},"object":{"type":"Identifier","start":202,"end":207,"loc":{"start":{"line":8,"column":20},"end":{"line":8,"column":25},"identifierName":"event"},"name":"event"},"property":{"type":"Identifier","start":208,"end":215,"loc":{"start":{"line":8,"column":26},"end":{"line":8,"column":33},"identifierName":"Records"},"name":"Records"},"computed":false},"property":{"type":"NumericLiteral","start":216,"end":217,"loc":{"start":{"line":8,"column":34},"end":{"line":8,"column":35}},"extra":{"rawValue":0,"raw":"0"},"value":0},"computed":true},"property":{"type":"Identifier","start":219,"end":221,"loc":{"start":{"line":8,"column":37},"end":{"line":8,"column":39},"identifierName":"s3"},"name":"s3"},"computed":false},"property":{"type":"Identifier","start":222,"end":228,"loc":{"start":{"line":8,"column":40},"end":{"line":8,"column":46},"identifierName":"bucket"},"name":"bucket"},"computed":false},"property":{"type":"Identifier","start":229,"end":233,"loc":{"start":{"line":8,"column":47},"end":{"line":8,"column":51},"identifierName":"name"},"name":"name"},"computed":false},"leadingComments":null}],"kind":"var","leadingComments":[{"type":"CommentLine","value":"Get source folder name","start":157,"end":181,"loc":{"start":{"line":7,"column":4},"end":{"line":7,"column":28}}}],"trailingComments":[{"type":"CommentLine","value":"Get source key","start":240,"end":256,"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":20}}}]},{"type":"VariableDeclaration","start":261,"end":343,"loc":{"start":{"line":11,"column":4},"end":{"line":11,"column":86}},"declarations":[{"type":"VariableDeclarator","start":265,"end":342,"loc":{"start":{"line":11,"column":8},"end":{"line":11,"column":85}},"id":{"type":"Identifier","start":265,"end":271,"loc":{"start":{"line":11,"column":8},"end":{"line":11,"column":14},"identifierName":"srcKey"},"name":"srcKey","leadingComments":null},"init":{"type":"CallExpression","start":274,"end":342,"loc":{"start":{"line":11,"column":17},"end":{"line":11,"column":85}},"callee":{"type":"Identifier","start":274,"end":292,"loc":{"start":{"line":11,"column":17},"end":{"line":11,"column":35},"identifierName":"decodeURIComponent"},"name":"decodeURIComponent"},"arguments":[{"type":"CallExpression","start":293,"end":341,"loc":{"start":{"line":11,"column":36},"end":{"line":11,"column":84}},"callee":{"type":"MemberExpression","start":293,"end":331,"loc":{"start":{"line":11,"column":36},"end":{"line":11,"column":74}},"object":{"type":"MemberExpression","start":293,"end":323,"loc":{"start":{"line":11,"column":36},"end":{"line":11,"column":66}},"object":{"type":"MemberExpression","start":293,"end":319,"loc":{"start":{"line":11,"column":36},"end":{"line":11,"column":62}},"object":{"type":"MemberExpression","start":293,"end":312,"loc":{"start":{"line":11,"column":36},"end":{"line":11,"column":55}},"object":{"type":"MemberExpression","start":293,"end":309,"loc":{"start":{"line":11,"column":36},"end":{"line":11,"column":52}},"object":{"type":"MemberExpression","start":293,"end":306,"loc":{"start":{"line":11,"column":36},"end":{"line":11,"column":49}},"object":{"type":"Identifier","start":293,"end":298,"loc":{"start":{"line":11,"column":36},"end":{"line":11,"column":41},"identifierName":"event"},"name":"event"},"property":{"type":"Identifier","start":299,"end":306,"loc":{"start":{"line":11,"column":42},"end":{"line":11,"column":49},"identifierName":"Records"},"name":"Records"},"computed":false},"property":{"type":"NumericLiteral","start":307,"end":308,"loc":{"start":{"line":11,"column":50},"end":{"line":11,"column":51}},"extra":{"rawValue":0,"raw":"0"},"value":0},"computed":true},"property":{"type":"Identifier","start":310,"end":312,"loc":{"start":{"line":11,"column":53},"end":{"line":11,"column":55},"identifierName":"s3"},"name":"s3"},"computed":false},"property":{"type":"Identifier","start":313,"end":319,"loc":{"start":{"line":11,"column":56},"end":{"line":11,"column":62},"identifierName":"object"},"name":"object"},"computed":false},"property":{"type":"Identifier","start":320,"end":323,"loc":{"start":{"line":11,"column":63},"end":{"line":11,"column":66},"identifierName":"key"},"name":"key"},"computed":false},"property":{"type":"Identifier","start":324,"end":331,"loc":{"start":{"line":11,"column":67},"end":{"line":11,"column":74},"identifierName":"replace"},"name":"replace"},"computed":false},"arguments":[{"type":"RegExpLiteral","start":332,"end":337,"loc":{"start":{"line":11,"column":75},"end":{"line":11,"column":80}},"extra":{"raw":"/\\+/g"},"pattern":"\\+","flags":"g"},{"type":"StringLiteral","start":338,"end":340,"loc":{"start":{"line":11,"column":81},"end":{"line":11,"column":83}},"extra":{"rawValue":"","raw":"\"\""},"value":""}]}]},"leadingComments":null}],"kind":"var","leadingComments":[{"type":"CommentLine","value":"Get source key","start":240,"end":256,"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":20}}}]},{"type":"ExpressionStatement","start":349,"end":381,"loc":{"start":{"line":13,"column":4},"end":{"line":13,"column":36}},"expression":{"type":"CallExpression","start":349,"end":380,"loc":{"start":{"line":13,"column":4},"end":{"line":13,"column":35}},"callee":{"type":"MemberExpression","start":349,"end":360,"loc":{"start":{"line":13,"column":4},"end":{"line":13,"column":15}},"object":{"type":"Identifier","start":349,"end":356,"loc":{"start":{"line":13,"column":4},"end":{"line":13,"column":11},"identifierName":"console"},"name":"console"},"property":{"type":"Identifier","start":357,"end":360,"loc":{"start":{"line":13,"column":12},"end":{"line":13,"column":15},"identifierName":"log"},"name":"log"},"computed":false},"arguments":[{"type":"BinaryExpression","start":361,"end":379,"loc":{"start":{"line":13,"column":16},"end":{"line":13,"column":34}},"left":{"type":"Identifier","start":361,"end":370,"loc":{"start":{"line":13,"column":16},"end":{"line":13,"column":25},"identifierName":"srcBucket"},"name":"srcBucket"},"operator":"+","right":{"type":"Identifier","start":373,"end":379,"loc":{"start":{"line":13,"column":28},"end":{"line":13,"column":34},"identifierName":"srcKey"},"name":"srcKey"}}]}}],"directives":[]}}}}],"directives":[]},"comments":[{"type":"CommentLine","value":"Entered in to Lambda","start":89,"end":111,"loc":{"start":{"line":4,"column":4},"end":{"line":4,"column":26}}},{"type":"CommentLine","value":"Get source folder name","start":157,"end":181,"loc":{"start":{"line":7,"column":4},"end":{"line":7,"column":28}}},{"type":"CommentLine","value":"Get source key","start":240,"end":256,"loc":{"start":{"line":10,"column":4},"end":{"line":10,"column":20}}}]},"formatted":true,"resources":["s3hirusample"],"triggers":["s3hirusample"]}},"rootNode":"4a7438ea-0941-4df6-93c6-ad299b87b156","openFiles":["c1027809-aa5d-4f6b-b668-882a7e827eb9"],"currentFileId":"c1027809-aa5d-4f6b-b668-882a7e827eb9","resources":{"s3hirusample":{"name":"s3hirusample","type":"S3","config":{"mode":1,"bucket":{"region":"us-east-1","name":"hiru.sample"},"trigger":{"type":"s3:ObjectCreated:*","keyPrefix":"","keySuffix":""}},"usage":{}}},"state":"CHANGED","triggers":["s3hirusample"],"packageJSON":{"dependencies":{"aws-sdk":"2.176.0"}},"startX":0,"startY":0},"PROJECT_META":{"projectName":"S3TutorialAmazon","projectDescription":"This project follows the Amazon tutorial of S3 with lambda","projectVersion":"1.0.0","repoName":"S3TutorialAmazon","repoUrl":"https://github.com/hirudinee/S3TutorialAmazon"}}